var db = require('controllers/database');
var mongoose = require('mongoose');
var services = mongoose.model('services');

exports.getAllService = function(callback){
  services.find({}, function(err,data){
    if(data.length != 0){
      callback({'res':true,'data':data});
    }else{
      callback({'res':false});
    }
  });
}

exports.addService = function(name,value,callback){
  var newTaxi = new services({name:name,value:value});
  services.find({name:name},function(err,data){
    if (data.length == 0) {
      newTaxi.save(function(err){
          if (err) {
            callback({'res':false,'response':"Error Service, you have not added a new service."});
          } else {
            callback({'res':true,'response':"Successfully Service, you have added a new service."});
          }
        });
    } else {
      callback({'res':false,'response':"Error Service, the name already registered."});
    }
  });
}